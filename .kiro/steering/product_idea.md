# 1. プロダクト名

**CrossDonate — Universal Non-Custodial Donation Receiver**

# プロダクトの背景と課題

## 1.1. 解決したい課題

### 寄付者の課題（トークンとチェーンの断片化）

- **高い寄付ハードル**: 寄付者が、特定のチェーンで指定されたトークンを保有していないと気軽に寄付ができない。
- **手間とコスト**: 寄付のためにトークンをブリッジしたり、スワップしたりする手間とガス代が発生する。
- **送金ミスリスク**: 寄付先アドレスがチェーンごとに異なり、送金ミスやヒューマンエラーのリスクが高い。

### プロジェクト運営者の課題（煩雑な資産管理とセキュリティ）

- **資産管理の煩雑さ**: 様々なチェーンから多様なトークンで寄付を受け取り、集約・換金に多大な手間とコストがかかる。
- **ガス詰み問題**: 特定のチェーンでガス代用のネイティブトークンがない場合、受け取った資産を動かせなくなる。
- **会計処理の複雑化**: トークン交換が税務上の取引履歴を複雑にし、会計処理の負担を増大させる。
- **セキュリティリスク**: 資金を引き出す際の秘密鍵の管理が単一障害点となり得る。

## 1.2 課題解決のアプローチと差別化ポイント

### 課題解決のアプローチ

1. **統一寄付アドレスの採用**: `CREATE2`を利用し、複数のEVMチェーンに**同一アドレス**でコントラクトをデプロイ。寄付元を問わず単一のアドレスに送金可能にする。
2. **自動スワップ・集約**: **Avail Nexus SDK**を活用し、各チェーンで受け取ったトークンを、プロジェクト運営者が指定した**単一のトークン・チェーン**（例: Base上のUSDC）に自動変換・集約する。
3. **分散型セキュリティ**: **Lit Protocol**を統合し、資金引き出しに複数管理者による分散署名（マルチシグ）を必須とするノンカストディの仕組みを構築する。

### 差別化ポイント

| 項目 | 本プロジェクトの強み |
| --- | --- |
| **技術基盤** | **Avail Nexus SDK**と**Lit Protocol**を組み合わせた新しいレイヤー構造。 |
| **UXデザイン** | 「**Just send to one address**」という、極限までシンプルな寄付体験。 |
| **セキュリティ** | 分散署名による安全な資金運用（ノンカストディ）。 |
| **クロスチェーン対応** | `CREATE2`とNexus SDKでマルチチェーンを自然に統一し、チェーン間の違いを寄付者から抽象化する。 |

## 1.3 プロダクトの想定ターゲット

- **主要ターゲット**: Gitcoin / Giveth / Crypto寄付プラットフォームの利用者。
- **潜在ターゲット**: 個人開発者・クリエイター、NPO、災害支援団体など、Web3で資金調達を行う全ての組織。

## 1.3 プロジェクトのゴール(どうなっていたら理想か)

- **寄付者体験の究極的な向上**: 寄付者は、**どのチェーンのどんなトークンを持っていても**、単一の統一アドレスに送金するだけでシームレスに寄付が完了する。
- **運営者体験の革新**: 運営者は、すべての寄付を**指定した単一のトークン・チェーンで一元的に、かつ安全に受け取る**ことができ、資産管理や税務上の複雑さが解消される。

### ユーザーストーリー

- **🧑‍💻 寄付者（Donor）**
    - **視点**: Polygon上の**MATIC**しか持っていないが、Baseのプロジェクトに寄付したい。
    - **理想**: わざわざブリッジやスワップをする必要がなく、プロジェクトの「**統一寄付アドレス**」にMATICを送るだけで、裏側で自動的にBase USDCに変換されて届く。「送るだけで完了」という最高のUXが得られる。
- **🧑‍🏫 運営者（Receiver / Project Owner）**
    - **視点**: Ethereum、Polygon、Baseなど複数チェーンに散らばった寄付金の管理、ガス代補充、税務処理に多大な労力を割いている。
    - **理想**: 管理者用dAppにアクセスし、複数管理者の署名後、**ワンクリックで**全ての寄付金が**Base USDC**としてウォレットに集約される。手動でのトークン管理や煩雑な税務レポート作成から解放される。
- **🏛️ プラットフォーム運営者（Gitcoin / Giveth など）**
    - **視点**: 各プロジェクトのチェーン・トークン依存性により、UXが低下し、ユーザー離脱が発生している。
    - **理想**: このプロトコルを統合することで、ユーザーに「どのチェーン・トークンからでも寄付可能」という明確なメッセージを提供でき、UI/UXの複雑性を排除し、寄付率と運営効率が向上する。

---

# 2. プロダクトの概要

## 2.1 プロダクトのアーキテクチャ図

`┌────────────────────────────┐
│    Donor Wallet            │
│ (Any Chain/Token)          │
└────────────┬───────────────┘
             │ 任意トークン送金
             ▼
      ┌──────────────────┐
      │ DonationRouter   │
      │ (Smart Contract) │
      └────────┬─────────┘
        ┌──────┼───────────────┐
        ▼      ▼               ▼
[DEX Aggregator] [Bridge Protocol] [Event Logger / Subgraph]
        │      │                 │
        ▼      ▼                 ▼
┌─────────────────────────────────────────────┐
│ Recipient Smart Wallet (ERC-4337 / Lit)     │
│ -> 最終着金：受取者指定トークン & チェーン    │
└─────────────────────────────────────────────┘`

## 2.2 主要な構成要素

### ブロックチェーン側

- **ハッカソンでデプロイするブロックチェーン**:
    - Ethereum、Base、Polygonなどの主要EVM互換チェーン。（MVPではこれらを対象）
- **実装するスマートコントラクト**
    - **DonationPool / DonationRouter**
        - **必要な機能**
            - `CREATE2`デプロイによるマルチチェーンでの同一アドレス実装。
            - `donate(token, amount, recipientConfig)`: 寄付受け取りと、指定トークンへの自動変換処理をトリガーするルーター機能。
            - コントラクトの所有権をLit Protocolで管理されるマルチシグアカウントに移譲する機能。

### フロントエンド側

- **必要な画面**
    - **Admin Dashboard（管理者用dApp）**
        - 全チェーンの寄付残高（分散しているトークン）を一覧で可視化。
        - 「Convert & Withdraw」（自動スワップ・ブリッジ・集約）の実行機能。
        - Lit Protocolによるマルチ署名インターフェース。
        - 寄付履歴のリアルタイム表示。
    - **統一寄付アドレス生成・設定画面**
        - 集約したいチェーンとトークン（例: Base USDC）を設定し、統一アドレスを生成するUI。

## 2.3 技術スタック

### ブロックチェーン側

- **プログラミング言語**: Solidity
- **フレームワーク**: hardhat(V3) ⇨ *V3を使うとhardhatのプライズの対象になる！*
- **ライブラリやSDK**: **Avail Nexus SDK**、LI.FI / Socketなどのクロスチェーンアグリゲーター統合、`CREATE2`。

### フロントエンド側

- **プログラミング言語**: JavaScript/TypeScript
- **フレームワーク**: Next.js
- **ライブラリやSDK**: **Lit Protocol SDK**、Wagmi、RainbowKit、TailwindCSS、The Graph Subgraph（データ取得）。

---

# 3. プレゼン構成

| シーン | 内容 | 表現 |
| --- | --- | --- |
| **1️⃣ 問題提起** | Gitcoin/Givethの寄付UXの分断。運営者の管理煩雑さ。 | 従来のUX画面の比較。 |
| **2️⃣ 寄付者体験** | 「**Send to one address**」デモ。 | Wallet画面でPolygonからBaseプロジェクトへの寄付成功を実演。 |
| **3️⃣ 受取者体験** | 資金の一元管理と安全性。 | dApp Dashboardで残高一覧 → ワンクリック変換をデモ。 |
| **4️⃣ 裏側の仕組み** | DonationRouter + Nexus SDK + Lit Protocol。 | フローチャートアニメーションでスワップ＆ブリッジの自動化を視覚化。 |
| **5️⃣ まとめ** | 寄付者は送るだけ、受取者は管理ゼロ。「Web3寄付の新しい標準」を提唱。 | コールトゥアクション。 |

## 日本語版 (例: 2分ピッチ)

1. **イントロ（0:00～0:20）**: Web3寄付の現状の課題（分断、コスト、複雑な会計）。
2. **ソリューション（0:20～0:50）**: 寄付者に「統一アドレス」を提供する魔法の体験をデモ。どのチェーン・どのトークンでも送るだけで完了。
3. **運営者への価値（0:50～1:20）**: 複数チェーンの資金をBase USDCなど指定トークンに自動集約。ガス詰み解消、Litによる安全な分散署名管理。
4. **技術（1:20～1:40）**: DonationRouterとAvail Nexus SDKによるクロスチェーン・スワップの抽象化。
5. **結論（1:40～2:00）**: UXと効率を根本から変える新標準を目指す。デモをご覧ください。

## 英語版 (例: 2分ピッチ)

1. **Intro & Problem (0:00–0:20)**: High friction in Web3 donation. Fragmented chains/tokens and complex multi-chain treasury for projects.
2. **Donor Experience (0:20–0:50)**: Demo the "Send to one address" flow. Emphasize that donors don't need to think about chains or tokens.
3. **Recipient Experience (0:50–1:20)**: Show how all donations are consolidated into a single desired token. Highlight Lit Protocol multi-sig security and simplified accounting.
4. **Behind the Scenes (1:20–1:40)**: Explain the **DonationRouter + Avail Nexus SDK** flow for non-custodial, automated cross-chain swap and bridging.
5. **Closing (1:40–2:00)**: Propose the project as the new **Universal Layer for Giving**. Call to action for the live demo.

---

# 4. ゴール達成までに必要なタスク

## 全体の大まかなタスク

- **スマートコントラクトの実装**: DonationRouterのコアロジック（受け取り、Nexus連携、マルチシグオーナー設定）の完成。
- **フロントエンドの実装**: 管理者用dApp（残高可視化、集約実行、Lit署名）と統一アドレス生成UIのMVP完成。
- **プレゼン・提出系**: Pitch Deck、デモ動画、GitHubドキュメントの作成と提出。

## レイヤーごとのタスク

### スマートコントラクト

- `DonationRouter.sol`の基本設計と、主要EVMチェーン（Ethereum, Base, Polygon）でのデプロイ準備。
- `CREATE2`を用いた同一アドレスデプロイの検証とスクリプト化。
- **Avail Nexus SDK**を統合し、`bridgeAndExecute()`をトリガーするロジックの実装。
- Lit Protocolと連携するためのコントラクト所有権管理（`owner`設定）の仕組み実装。
- 寄付イベントを追跡するためのイベントロギング（Subgraph連携用）の実装。

### フロントエンド

- Next.js + Wagmi/RainbowKitを用いたdAppの初期設定。
- Admin Dashboard（残高一覧）UIの作成。
- **Lit Protocol SDK**を用いた認証・分散署名要求フローの実装。
- 集約実行トランザクション（Nexus呼び出し）のフロントエンドからのトリガー機能実装。
- The Graphによる寄付履歴データの取得・表示機能の実装。

### プレゼン・提出系

- ハッカソン提出期限に合わせたMVPスコープの最終決定（例: EthereumからBase USDCへの寄付のみ）。
- デモのコアシナリオ（送金→自動変換→受取）を分かりやすく見せるためのアニメーション素材作成。
- 日本語・英語版のPitch Deck（スライド）の作成。
- GitHubリポジトリにREADME、ライセンス、技術詳細ドキュメントを整備。